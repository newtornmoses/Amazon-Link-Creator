<app-conversions-filter (current_conversions)="APICall_Hr($event)"></app-conversions-filter>

<div class="container">

    <p-table [value]="conversions" [paginator]="true" [rows]="20" [rowHover]="true" [resizableColumns]="true">

        <ng-template pTemplate="header">
            <tr>
                <th>Date</th>
                <th>Offer</th>
                <th>Sale Amount (USD)</th>
                <th>payout (USD)</th>
                <th>Transaction ID</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-conversions let-rowIndex="rowIndex">
            <tr class="ui-selectable-row">
                <td>
                    {{conversions.Stat['datetime']}}</td>
                <td>{{conversions.Offer['name'] }}</td>
                <td>{{conversions.Stat['sale_amount'] }}</td>
                <td>{{conversions.Stat['payout'] }}</td>
                <td>{{conversions.Stat['ad_id'] }}</td>
            </tr>
        </ng-template>

        <ng-template pTemplate="loadingbody" let-conversions>
            <tr style="height:34px">
                <td>
                    <div class="loading-text"></div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>




<!-- <p-table #dt [value]="conversions" [(selection)]="selectedCustomers" dataKey="id" styleClass="ui-table-customers" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [filterDelay]="0" [globalFilterFields]="['Date','Offer']">
    <ng-template pTemplate="caption">
        Affiliate Conversions
        <div class="ui-table-globalfilter-container">
            <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Global Search" />
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th></th>
            <th pSortableColumn="name">Date
                <p-sortIcon field="name"></p-sortIcon>
            </th>
            <th pSortableColumn="country.name">Offer
                <p-sortIcon field="country.name"></p-sortIcon>
            </th>
            <th pSortableColumn="representative.name">Sale Amount (USD)
                <p-sortIcon field="representative.name"></p-sortIcon>
            </th>
            <th pSortableColumn="date">payout
                <p-sortIcon field="date"></p-sortIcon>
            </th>
            <th pSortableColumn="status">Transaction Id
                <p-sortIcon field="status"></p-sortIcon>
            </th>

            <th></th>
        </tr>
        <tr>
            <th>
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th>
                <input pInputText type="text" (input)="dt.filter($event.target.value, 'name', 'startsWith')" placeholder="Search by Name" class="ui-column-filter">
            </th>
            <th>
                <input pInputText type="text" (input)="dt.filter($event.target.value, 'country.name', 'contains')" placeholder="Search by Country" class="ui-column-filter">
            </th>

            <th>
                <p-calendar (onSelect)="onDateSelect($event)" (onClearClick)="dt.filter('', 'date', 'equals')" [showButtonBar]="true" styleClass="ui-column-filter" placeholder="Registration Date" [readonlyInput]="true" dateFormat="yy-mm-dd"></p-calendar>
            </th>

            <th>
                <input pInputText type="text" (input)="onActivityChange($event)" placeholder="Minimum" class="ui-column-filter">
            </th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer>
        <tr class="ui-selectable-row">
            <td>
                <p-tableCheckbox [value]="customer"></p-tableCheckbox>
            </td>
            <td>
                <span class="ui-column-title">Name</span> {{customer.name}}
            </td>
            <td>
                <span class="ui-column-title">Country</span>
                <span [class]="'flag flag-' + customer.country.code"></span>
                <span style="vertical-align: middle; margin-left: .5em">{{customer.country.name}}</span>
            </td>
            <td>
                <span class="ui-column-title">Representative</span>
               
                <span style="vertical-align: middle; margin-left: .5em">{{customer.representative.name}}</span>
            </td>
            <td>
                <span class="ui-column-title">Country</span> {{customer.date}}
            </td>
            <td>
                <span class="ui-column-title">Status</span>
                <span [class]="'customer-badge status-' + customer.status">{{customer.status}}</span>
            </td>
        
            <td>
                <button pButton type="button" class="ui-button-secondary" icon="pi pi-cog"></button>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="8" style="text-align:left">No customers found.</td>
        </tr>
    </ng-template>
</p-table> -->